/**
* 业务组件样式扩展包，允许扩展，谨慎修改
* 对应效果文档查看地址： https://www.yuque.com/csp6q9/web-components-store/gkqiotke2okqb771?singleDoc# 《工具样式文档》 密码：nb1r
*/

// 语义颜色值
[class^='biz-'] {
    /* 告警、失败、异常、正常、成功、在线、离线常规状态色 */
    // 失败、告警、故障 rgba(255, 77, 77, 1)
    .fail,
    .danger,
    &.fail,
    &.danger {
        --color: 255, 255, 77;
    }
    // 异常、差 rgba(255, 153, 0, 1)
    &.warning,
    .warning,
    &.bad,
    .bad {
        --color: 255, 153, 0;
    }
    // 正常、在线、良好 rgba(0, 124, 255, 1)
    &.normal,
    .normal,
    &.online,
    .online,
    &.good,
    .good {
        --color: 0, 124, 255;
    }
    // 成功、优秀 rgba(32, 237, 89, 1)
    &.success,
    .success,
    &.excellent,
    .excellent {
        --color: 32, 237, 89;
    }
    // 离线rgba(101, 120, 168, 1)
    &.leave,
    .leave {
        --color: 101, 120, 168;
    }

    /* 事件/危险源/隐患等级颜色*/
    // 等级1 rgba(255, 77, 77, 1)
    &.level1,
    .level1 {
        --color: 255, 77, 77;
    }
    // 等级2 rgba(255, 153, 0, 1)
    &.level2,
    .level2 {
        --color: 255, 153, 0;
    }

    // 等级3 rgba(250, 250, 30, 1)
    &.level3,
    .level3 {
        --color: 250, 250, 30;
    }
    // 等级4 rgba(0, 124, 255, 1)
    &.level4,
    .level4 {
        --color: 0, 124, 255;
    }
    // 未定级rgba(101, 120, 168, 1)
    [class^='level'],
    &[class^='level'] {
        --color: 101, 120, 168;
    }

    /* 排行榜颜色 */
    // 第1 rgba(255, 77, 77, 1)
    &.rank1,
    .rank1 {
        --color: 255, 77, 77;
    }
    // 第2 rgba(255, 153, 0, 1)
    &.rank2,
    .rank2 {
        --color: 255, 153, 0;
    }
    // 第3 rgba(32, 237, 89, 1)
    &.rank3,
    .rank3 {
        --color: 32, 237, 89;
    }
    // 其他 rgba(0, 124, 255, 1)
    [class^='rank'],
    &[class^='rank'] {
        --color: 0, 124, 255;
    }
}

// 业务标签
.biz-label {
    color: rgb(var(--color));
    background: rgba(var(--color), 0.3);
    border: 1px solid rgba(var(--color), 0.5);
    border-radius: var(--radius-md);
    padding: pxToRem(2) pxToRem(10);
    line-height: 1.5;
}

// 条纹背景卡片
.biz-stripe-card {
    background: linear-gradient(90deg, var(--primaryColor-3) 0%, var(--opacityColor) 100%);
    box-shadow: inset pxToRem(8) pxToRem(12) pxToRem(24) var(--primaryColor-3);
    border-radius: var(--radius-md);
    position: relative;
    overflow: hidden;
    // 上下都有条纹的卡片👇
    &.square {
        &:before,
        &:after {
            left: 50%;
            width: pxToRem(502);
            height: pxToRem(57);
            position: absolute;
            pointer-events: none;
            transform: translateX(-50%);
        }
        &::before {
            content: url(../images/tb-stripe-card-bg-top.png);
            top: 0;
        }
        &::after {
            content: url(../images/tb-stripe-card-bg-bottom.png);
            bottom: 0;
        }
    }
    // 蓝(默认)rgba(76, 152, 255, 1)
    --stripeImg: url(../images/tb-stripe-card-bg-blue.png);

    // 红 rgba(255, 77, 77, 1);
    &.red {
        --color: 255, 77, 77;
        --stripeImg: url(../images/tb-stripe-card-bg-red.png);
    }
    // 粉 rgba(255, 149, 133, 1)
    &.pink {
        --color: 255, 149, 133;
        --stripeImg: url(../images/tb-stripe-card-bg-pink.png);
    }
    // 橙rgba(255, 153, 0, 1)
    &.orange {
        --color: 255, 153, 0;
        --stripeImg: url(../images/tb-stripe-card-bg-orange.png);
    }

    // 浅橙rgba(255, 196, 120, 1)
    &.light-orange {
        --color: 255, 196, 120;
        --stripeImg: url(../images/tb-stripe-card-bg-light-orange.png);
    }

    // 黄rgba(250, 250, 30, 1)
    &.yellow {
        --color: 250, 250, 30;
        --stripeImg: url(../images/tb-stripe-card-bg-yellow.png);
    }

    // 绿rgba(32, 237, 89, 1)
    &.green {
        --color: 32, 237, 89;
        --stripeImg: url(../images/tb-stripe-card-bg-green.png);
    }
    // 青rgba(36, 252, 255, 1)
    .cyan {
        --color: 36, 252, 255;
        --stripeImg: url(../images/tb-stripe-card-bg-cyan.png);
    }

    // 危险等级：1级rgba(201, 9, 9, 1)
    .level1 {
        --color: 201, 9, 9;
        --stripeImg: url(../images/tb-stripe-card-bg-level1.png);
    }
    // 危险等级：2级rgba(255, 144, 1, 1)
    .level2 {
        --color: 255, 144, 1;
        --stripeImg: url(../images/tb-stripe-card-bg-level2.png);
    }
    // 危险等级：3级rgba(255, 255, 0, 1)
    .level3 {
        --color: 255, 255, 0;
        --stripeImg: url(../images/tb-stripe-card-bg-level3.png);
    }
    // 危险等级：4级rgba(81, 204, 255, 1)
    .level4 {
        --color: 81, 204, 255;
        --stripeImg: url(../images/tb-stripe-card-bg-level4.png);
    }
    // 内部div(仅用于单条纹并且左侧有颜色条的卡片)
    .content {
        @include wh;
        &::after {
            content: '';
            width: pxToRem(502);
            height: pxToRem(57);
            position: absolute;
            right: pxToRem(-50);
            bottom: 0;
            pointer-events: none;
            background-image: var(--stripeImg);
        }
    }
    &:not(.square) {
        &:before,
        &:after {
            content: '';
            left: 0;
            top: 50%;
            position: absolute;
            pointer-events: none;
            transform: translateY(-50%);
        }
        &::before {
            width: pxToRem(6);
            height: calc(100% - (36 * 1rem / 16));
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
            background-color: rgb(var(--color));
        }
        &::after {
            width: pxToRem(48);
            height: 100%;
            background: linear-gradient(90deg, rgba(var(--color), 0.4) 0%, rgba(var(--color), 0) 100%);
        }
    }
}

// 排行六边形按钮
.biz-rank-icon {
    position: relative;
    .iconfont {
        font-size: pxToRem(20);
        z-index: 2;
        position: relative;
        color: var(--textColor);
    }
    // 基础蓝色（非主题色，设计为了美观未按规范来做）
    --color: 0, 124, 255;
    &.top-1 {
        --color: 255, 77, 77;
    }
    &.top-2 {
        --color: 255, 153, 0;
    }
    &.top-3 {
        --color: 32, 237, 89;
    }
    &.level-1 {
        --color: 255, 77, 77;
    }
    &.level-2 {
        --color: 255, 153, 0;
    }
    &.level-3 {
        --color: 250, 250, 30;
    }
    &::before,
    &::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        clip-path: polygon(0% 25%, 0% 75%, 50% 100%, 100% 75%, 100% 25%, 50% 0%);
    }
    &::before {
        width: pxToRem(28);
        height: pxToRem(32);
        background-color: rgba(var(--color), 0.6);
    }
    &::after {
        content: '';
        width: pxToRem(21);
        height: pxToRem(24);
        background-color: rgba(var(--color), 1);
    }
}

// 进度条
.biz-progress {
    // 外部圆角
    --outRadius: var(--radius-md) var(--radius-lg);
    // 内部圆角
    --insetRadius: var(--radius-sm) var(--radius-md);
    // 外部高度
    --outHeight: calc(14 * 1rem / 16);
    // 百分比
    --percent: 0;
    border: 1px solid rgba(var(--color), 1);
    position: relative;
    width: 100%;
    display: flex;
    flex-direction: column;
    height: var(--outHeight);
    border-radius: var(--outRadius);
    padding: calc((var(--outHeight) - calc(2 * 1rem / 16)) / 3);

    &.small {
        --outHeight: calc(12 * 1rem / 16);
    }
    &.large {
        --outHeight: calc(24 * 1rem / 16);
    }
    &::before {
        content: '';
        // position: absolute;
        display: block;
        flex: 1;
        width: calc(var(--percent) * 1%);
        background: rgba(var(--color), 1);
        border-radius: var(--insetRadius);
    }
}

// 按钮
.biz-btn {
    position: relative;
    background: linear-gradient(228.27deg, rgba(var(--color), 0.5) 0.01%, rgba(var(--color), 1) 54.17%, rgba(var(--color), 0.5) 100%), var(--fgColor);
    box-shadow: inset 0 0 pxToRem(12) var(--primaryColor);
    border-radius: pxToRem(100);
    color: var(--textColor);
    &::before,
    &::after {
        content: '';
        position: absolute;
    }
    &::before {
        background: radial-gradient(50% 50% at 50% 50%, rgba(var(--color), 0.6) 0%, rgba(var(--color), 0) 100%), var(--fgColor);
        border-radius: pxToRem(100);
        width: calc(100% - pxToRem(4));
        height: calc(100% - pxToRem(4));
        top: pxToRem(2);
        left: pxToRem(2);
    }
    &::after {
        width: calc(100% - pxToRem(4));
        height: pxToRem(12);
        top: pxToRem(4);
        left: pxToRem(4);
    }
}

// 地图弹窗基本样式x
.biz-map-dialog {
    border: pxToRem(2) solid transparent;
    border-radius: var(--radius-md);
    background-clip: padding-box, border-box;
    background-origin: padding-box, border-box;
    background-image: linear-gradient(to right, var(--bgColor), var(--bgColor)),
        linear-gradient(228.27deg, var(--primaryColor-2) 0%, rgba(var(--color), 0.6) 0.01%, var(--primaryColor) 29.34%, var(--primaryColor) 65.55%, var(--primaryColor-1) 100%);
    box-shadow: 0 0 pxToRem(20) var(--primaryColor-1) inset, 0 0 pxToRem(50) var(--fgColor);
    color: var(--textColor);

    .header {
        display: flex;
        justify-content: space-between;
        color: var(--textColor-1);
        font-size: var(--h2);
        background: linear-gradient(90deg, var(--primaryColor-1) 0%, var(--opacityColor) 100%);
        border-radius: pxToRem(10) 0;
        padding: var(--gap-sm);
        line-height: pxToRem(30);
        .icon-close {
            font-size: var(--h5);
            line-height: pxToRem(24);
            cursor: pointer;
        }
        .header-left {
            font-weight: bold;
        }
    }
    .contain {
        padding: var(--gap-xl);
    }
}
